(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/loading.6534eb5f.gif"},34:function(e,t,a){e.exports=a(67)},39:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(27),l=a.n(r),s=(a(39),a(13)),o=a(6),i=a(33),u=a(14),m=a.n(u),p=a(28),f=a(8),d=a(29),E=a.n(d).a.create({baseURL:"http://localhost:5000/api"});a(59),a(60);function v(e){var t=e.title,a=e.phase;return(c.a.createElement("div",{className:"container-topo"},c.a.createElement("p",{className:"title"},"CAMPEONATO  DE FILMES"),c.a.createElement("h3",null,t),c.a.createElement("p",null,a)))}var h=a(30),b=a.n(h);function g(){var e=Object(o.f)(),t=Object(n.useState)(0),a=Object(f.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)([]),u=Object(f.a)(s,2),d=u[0],h=u[1],g=Object(n.useState)(!1),O=Object(f.a)(g,2),N=O[0],j=O[1],S=Object(n.useState)([]),k=Object(f.a)(S,2),x=k[0],y=k[1];function F(e){var t=e.target.checked;l(t?r+1:r-1),function(e,t){var a=Object(i.a)(x);if(t){var n=d.find((function(t){return t.id===e}));a.push(n)}else x.filter((function(t){return t.id===e&&a.splice(a.indexOf(e),1),0}));y(a)}(e.target.value,t)}return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/movies/get-all");case 2:t=e.sent,h(t.data),j(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}sessionStorage.removeItem("result"),j(!0),function(){e.apply(this,arguments)}()}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{title:"Fase de Sele\xe7\xe3o",phase:"Selecione 8 filmes que voc\xea deseja que entrem na competi\xe7\xe3o\n    e depois pressione o bot\xe3o Gerar Meu Campeonato para prosseguir "}),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"actions"},c.a.createElement("div",{className:"count"},"Selecionados ",c.a.createElement("br",null)," ",r," de 8 filmes"),c.a.createElement("button",{onClick:function(){8===x.length?(sessionStorage.setItem("result",JSON.stringify(x)),e.push("resultado")):alert("Voc\xea deve selecionar apenas 8 filmes para disputar o campeonato")}},"Gerar meu campeonato")),c.a.createElement("div",{className:"container-movies"},N?c.a.createElement("img",{src:b.a,className:"loading",alt:"loading"}):c.a.createElement("ul",{className:"list-movies"},(d||[]).map((function(e){return c.a.createElement("li",{className:"movies-item",key:e.id},c.a.createElement("label",{className:"container-check"},c.a.createElement("input",{type:"checkbox","data-testid":e.id,value:e.id,onChange:function(e){return F(e)},className:"disable-checkbox"}),c.a.createElement("span",{className:"checkmark"})),c.a.createElement("div",{className:"info-movie"},c.a.createElement("p",null,e.titulo),c.a.createElement("span",null,e.ano)))}))))))}a(66);function O(e){var t=e.history,a=Object(n.useState)([]),r=Object(f.a)(a,2),l=r[0],s=r[1];return Object(n.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("result"));E.post("movies/finish-result",e).then((function(e){s(e.data)})).catch((function(e){alert("Houve um erro ao gerar o campeonato"),t.push("/")}))}),[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{title:"Resultado Final",phase:"Veja o resultado final do campeonato de filmes de forma simples e r\xe1pida"}),c.a.createElement("div",{className:"container"},c.a.createElement("ul",{className:"result-list-movies"},(l||[]).map((function(e,t){return c.a.createElement("li",{className:"result-movies-item",key:e.id},c.a.createElement("span",null,t+1,"\xb0"),"  ",e.titulo)})))))}var N=function(){return c.a.createElement(s.a,null,c.a.createElement(o.c,null,c.a.createElement(o.a,{exact:!0,path:"/",component:g}),c.a.createElement(o.a,{exact:!0,path:"/resultado",component:O})))};var j=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(N,null))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.5b04ffbf.chunk.js.map