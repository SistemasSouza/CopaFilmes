{"version":3,"sources":["services/api.services.js","components/top/index.js","pages/Times/index.js","pages/Results/index.js","routes.js","App.js","index.js"],"names":["api","axios","create","baseURL","top","title","phase","className","Times","history","useState","count","setCount","movies","setMovies","moviesSelected","setMoviesSelected","handleChange","e","isChecked","target","checked","idMovie","newMoviesSelected","movie","find","elem","id","push","filter","splice","indexOf","toogleMoviesSelected","value","useEffect","a","get","response","data","sessionStorage","removeItem","loadMovies","onClick","post","then","setItem","JSON","stringify","catch","_","alert","map","key","type","onChange","titulo","ano","Results","result","setResult","parse","getItem","index","Routes","exact","path","component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a8c34b47.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'https://app-copa-filmes.herokuapp.com/api',\r\n  });\r\n  \r\n  export default api;","import React from 'react';\r\n\r\nimport './styles.css';\r\n\r\nexport default function top({title, phase}) {\r\n  return(\r\n    <div className=\"container-topo\">\r\n        <p className=\"title\">CAMPEONATO  DE FILMES</p>\r\n        <h3>{title}</h3>\r\n        <p>{phase}</p>\r\n    </div>     \r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\n\r\nimport api from '../../services/api.services';\r\n\r\nimport './styles.css';\r\n\r\nimport Top from '../../components/top'\r\n\r\nexport default function Times({ history }) {\r\n    const phase = `Selecione 8 filmes que você deseja que entrem na competição\r\n    e depois pressione o botão Gerar Meu Campeonato para prosseguir `;\r\n\r\n    const [count, setCount] = useState(0);\r\n    const [movies, setMovies] = useState([]);\r\n    const [moviesSelected, setMoviesSelected] = useState([]);\r\n\r\n    useEffect(() => {\r\n        sessionStorage.removeItem('result');\r\n\r\n        async function loadMovies() {\r\n            let response = await api.get('/movies/obter-todos-filmes');\r\n            setMovies(response.data);\r\n        }\r\n\r\n        loadMovies();\r\n    }, [])\r\n\r\n    function handleChange(e) {\r\n        let isChecked = e.target.checked;\r\n\r\n        if (isChecked)\r\n            setCount(count + 1)\r\n        else\r\n            setCount(count - 1)\r\n\r\n        toogleMoviesSelected(e.target.value, isChecked)\r\n    }\r\n\r\n    function handleSubmit() {\r\n        api.post('movies/resultado-final', moviesSelected).then(response => {\r\n            \r\n            setMoviesSelected([]);\r\n            sessionStorage.setItem('result', JSON.stringify(response.data));\r\n            history.push('resultado');\r\n        }).catch(_ => {\r\n            setMoviesSelected([]);\r\n            alert('Houve um erro ao gerar o campeonato');\r\n        })\r\n    }\r\n\r\n    function toogleMoviesSelected(idMovie, isChecked) {\r\n\r\n        let newMoviesSelected = [...moviesSelected];\r\n\r\n        if (isChecked) {\r\n            let movie = movies.find((elem) => elem.id === idMovie);\r\n            newMoviesSelected.push(movie)\r\n        }\r\n        else {\r\n            moviesSelected.filter((elem) => {\r\n                if (elem.id === idMovie) {\r\n                    newMoviesSelected.splice(newMoviesSelected.indexOf(idMovie), 1)\r\n                }\r\n                return 0;\r\n            })\r\n        }\r\n        setMoviesSelected(newMoviesSelected)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Top title=\"Fase de Seleção\" phase={phase} />\r\n            <div className=\"container\">\r\n                <div className=\"actions\">\r\n                    <div className=\"count\">Selecionados <br /> {count} de 8 filmes</div>\r\n                    <button className={count === 8 ? \"\" : \"btn-disabled\"} onClick={() => handleSubmit()}>Gerar meu campeonato</button>\r\n                </div>\r\n                <div className=\"container-movies\">\r\n                    <ul className=\"list-movies\">\r\n                        {\r\n                            (movies || []).map((movie) => (\r\n                                <li className=\"movies-item\" key={movie.id}>\r\n                                    <label className=\"container-check\">\r\n                                        <input type=\"checkbox\" value={movie.id} onChange={(e) => handleChange(e)} />\r\n                                        <span className=\"checkmark\"></span>\r\n                                    </label>\r\n                                    <div className=\"info-movie\">\r\n                                        <p>{movie.titulo}</p>\r\n                                        <span>{movie.ano}</span>\r\n                                    </div>\r\n                                </li>\r\n                            ))\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\n\r\nimport './styles.css';\r\n\r\nimport Top from '../../components/top';\r\n\r\nexport default function Results() {\r\n\r\n    const phase = \"Veja o resultado final do campeonato de filmes de forma simples e rápida\";\r\n\r\n    const [result, setResult] = useState([]);\r\n\r\n    useEffect(() => {\r\n        let response = JSON.parse(sessionStorage.getItem('result'));\r\n        setResult(response);\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Top title=\"Resultado Final\" phase={phase} />\r\n            <div className=\"container\">\r\n                <ul className=\"result-list-movies\">\r\n                    {\r\n                        (result || []).map((movie, index) => (\r\n                            <li className=\"result-movies-item\" key={movie.id}>\r\n                                <span>{index + 1}°</span>  {movie.titulo}\r\n                            </li>\r\n                        ))\r\n                    }\r\n                </ul>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react';\r\nimport { Switch, Route, BrowserRouter } from 'react-router-dom';\r\n\r\nimport Times from './pages/Times';\r\nimport Results from './pages/Results';\r\n\r\nconst Routes = () => (\r\n    <BrowserRouter>\r\n        <Switch>\r\n            <Route exact path=\"/\" component={Times} />\r\n            <Route exact path=\"/resultado\" component={Results} />\r\n        </Switch>\r\n    </BrowserRouter>\r\n)\r\n\r\nexport default Routes;","import React from 'react';\n\nimport './styles/global.css';\n\nimport Routes from './routes';\n\nfunction App() {\n  return (\n    <>\n      <Routes />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}