{"version":3,"sources":["assets/loading.gif","services/api.services.js","components/top/index.js","pages/Movies/index.js","pages/Results/index.js","routes.js","App.js","index.js"],"names":["module","exports","api","axios","create","baseURL","top","title","phase","className","Movies","history","useHistory","useState","count","setCount","movies","setMovies","loading","setLoading","moviesSelected","setMoviesSelected","handleChange","e","isChecked","target","checked","idMovie","newMoviesSelected","movie","find","elem","id","push","filter","splice","indexOf","toogleMoviesSelected","value","useEffect","a","get","response","data","sessionStorage","removeItem","loadMovies","onClick","length","setItem","JSON","stringify","alert","src","loadingGif","alt","map","key","type","data-testid","onChange","titulo","ano","Results","result","setResult","parse","getItem","post","then","catch","_","index","Routes","exact","path","component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wFAAAA,EAAOC,QAAU,IAA0B,qC,2QCM1BC,E,OAJLC,EAAMC,OAAO,CACrBC,QAAS,8B,YCCE,SAASC,EAAT,GAA8B,IAAhBC,EAAe,EAAfA,MAAOC,EAAQ,EAARA,MAClC,OACE,yBAAKC,UAAU,kBACX,uBAAGA,UAAU,SAAb,yBACA,4BAAKF,GACL,2BAAIC,K,qBCEG,SAASE,IACtB,IAAMC,EAAUC,cADe,EAKLC,mBAAS,GALJ,mBAKxBC,EALwB,KAKjBC,EALiB,OAMHF,mBAAS,IANN,mBAMxBG,EANwB,KAMhBC,EANgB,OAODJ,oBAAS,GAPR,mBAOxBK,EAPwB,KAOfC,EAPe,OAQaN,mBAAS,IARtB,mBAQxBO,EARwB,KAQRC,EARQ,KAuB/B,SAASC,EAAaC,GACpB,IAAIC,EAAYD,EAAEE,OAAOC,QAGvBX,EADES,EACOV,EAAQ,EAERA,EAAQ,GAerB,SAA8Ba,EAASH,GAErC,IAAII,EAAiB,YAAOR,GAE5B,GAAII,EAAW,CACb,IAAIK,EAAQb,EAAOc,MAAK,SAACC,GAAD,OAAUA,EAAKC,KAAOL,KAC9CC,EAAkBK,KAAKJ,QAGvBT,EAAec,QAAO,SAACH,GAIrB,OAHIA,EAAKC,KAAOL,GACdC,EAAkBO,OAAOP,EAAkBQ,QAAQT,GAAU,GAExD,KAGXN,EAAkBO,GA7BlBS,CAAqBd,EAAEE,OAAOa,MAAOd,GAgCvC,OArDAe,qBAAU,WAAM,4CAId,4BAAAC,EAAA,sEACuBtC,EAAIuC,IAAI,mBAD/B,OACMC,EADN,OAEEzB,EAAUyB,EAASC,MACnBxB,GAAW,GAHb,4CAJc,sBACdyB,eAAeC,WAAW,UAC1B1B,GAAW,GAFG,mCAUd2B,KACC,IA2CD,oCACE,kBAAC,EAAD,CAAKvC,MAAM,wBAAkBC,MA/DtB,kJAgEP,yBAAKC,UAAU,aACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,SAAf,gBAAoC,6BAApC,IAA4CK,EAA5C,gBACA,4BAAQiC,QAAS,WAlCO,IAA1B3B,EAAe4B,QAKnBJ,eAAeK,QAAQ,SAAUC,KAAKC,UAAU/B,IAChDT,EAAQsB,KAAK,cALXmB,MAAM,wEAiCF,yBAEF,yBAAK3C,UAAU,oBAEVS,EAgBG,yBAAKmC,IAAKC,IAAY7C,UAAU,UAAU8C,IAAI,YAhBvC,wBAAI9C,UAAU,gBAEpBO,GAAU,IAAIwC,KAAI,SAAC3B,GAAD,OACjB,wBAAIpB,UAAU,cAAcgD,IAAK5B,EAAMG,IACrC,2BAAOvB,UAAU,mBACf,2BAAOiD,KAAK,WAAWC,cAAa9B,EAAMG,GAAIM,MAAOT,EAAMG,GAAI4B,SAAU,SAACrC,GAAD,OAAOD,EAAaC,IAAId,UAAU,qBAC3G,0BAAMA,UAAU,eAElB,yBAAKA,UAAU,cACb,2BAAIoB,EAAMgC,QACV,8BAAOhC,EAAMiC,c,MCvFpB,SAASC,EAAT,GAA6B,IAAXpD,EAAU,EAAVA,QAAU,EAIXE,mBAAS,IAJE,mBAIhCmD,EAJgC,KAIxBC,EAJwB,KAmBvC,OAbA1B,qBAAU,WACR,IAAInB,EAAiB8B,KAAKgB,MAAMtB,eAAeuB,QAAQ,WAEvDjE,EAAIkE,KAAK,uBAAwBhD,GAAgBiD,MAAK,SAAA3B,GAEtDuB,EAAUvB,EAASC,SAEhB2B,OAAM,SAAAC,GACPnB,MAAM,uCACNzC,EAAQsB,KAAK,UAEd,CAACtB,IAGA,oCACI,kBAAC,EAAD,CAAKJ,MAAM,kBAAkBC,MAnBvB,gFAoBN,yBAAKC,UAAU,aACX,wBAAIA,UAAU,uBAELuD,GAAU,IAAIR,KAAI,SAAC3B,EAAO2C,GAAR,OACf,wBAAI/D,UAAU,qBAAqBgD,IAAK5B,EAAMG,IAC1C,8BAAOwC,EAAQ,EAAf,QADJ,KACgC3C,EAAMgC,cC5BlE,IASeY,EATA,kBACX,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWlE,IACjC,kBAAC,IAAD,CAAOgE,OAAK,EAACC,KAAK,aAAaC,UAAWb,OCIvCc,MARf,WACE,OACE,oCACE,kBAAC,EAAD,QCLNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.5b04ffbf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.6534eb5f.gif\";","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://localhost:5000/api',\r\n  });\r\n  \r\n  export default api;","import React from 'react';\r\n\r\nimport './styles.css';\r\n\r\nexport default function top({title, phase}) {\r\n  return(\r\n    <div className=\"container-topo\">\r\n        <p className=\"title\">CAMPEONATO  DE FILMES</p>\r\n        <h3>{title}</h3>\r\n        <p>{phase}</p>\r\n    </div>     \r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport api from '../../services/api.services';\r\n\r\nimport './styles.css';\r\n\r\nimport Top from '../../components/top'\r\n\r\nimport loadingGif from '../../assets/loading.gif'\r\n\r\nexport default function Movies() {\r\n  const history = useHistory();\r\n  const phase = `Selecione 8 filmes que você deseja que entrem na competição\r\n    e depois pressione o botão Gerar Meu Campeonato para prosseguir `;\r\n\r\n  const [count, setCount] = useState(0);\r\n  const [movies, setMovies] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [moviesSelected, setMoviesSelected] = useState([]);\r\n\r\n  useEffect(() => {\r\n    sessionStorage.removeItem('result');\r\n    setLoading(true);\r\n\r\n    async function loadMovies() {\r\n      let response = await api.get('/movies/get-all');\r\n      setMovies(response.data);\r\n      setLoading(false);\r\n    }\r\n\r\n    loadMovies();\r\n  }, [])\r\n\r\n  function handleChange(e) {\r\n    let isChecked = e.target.checked;\r\n\r\n    if (isChecked)\r\n      setCount(count + 1)\r\n    else\r\n      setCount(count - 1)\r\n\r\n    toogleMoviesSelected(e.target.value, isChecked)\r\n  }\r\n\r\n  function handleSubmit() {\r\n    if (moviesSelected.length !== 8) {\r\n      alert('Você deve selecionar apenas 8 filmes para disputar o campeonato')\r\n      return;\r\n    }\r\n\r\n    sessionStorage.setItem('result', JSON.stringify(moviesSelected));\r\n    history.push('resultado');\r\n  }\r\n\r\n  function toogleMoviesSelected(idMovie, isChecked) {\r\n\r\n    let newMoviesSelected = [...moviesSelected];\r\n\r\n    if (isChecked) {\r\n      let movie = movies.find((elem) => elem.id === idMovie);\r\n      newMoviesSelected.push(movie)\r\n    }\r\n    else {\r\n      moviesSelected.filter((elem) => {\r\n        if (elem.id === idMovie) {\r\n          newMoviesSelected.splice(newMoviesSelected.indexOf(idMovie), 1)\r\n        }\r\n        return 0;\r\n      })\r\n    }\r\n    setMoviesSelected(newMoviesSelected)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Top title=\"Fase de Seleção\" phase={phase} />\r\n      <div className=\"container\">\r\n        <div className=\"actions\">\r\n          <div className=\"count\">Selecionados <br /> {count} de 8 filmes</div>\r\n          <button onClick={() => handleSubmit()}>Gerar meu campeonato</button>\r\n        </div>\r\n        <div className=\"container-movies\">\r\n          {\r\n            !loading ? <ul className=\"list-movies\">\r\n              {\r\n                (movies || []).map((movie) => (\r\n                  <li className=\"movies-item\" key={movie.id}>\r\n                    <label className=\"container-check\">\r\n                      <input type=\"checkbox\" data-testid={movie.id} value={movie.id} onChange={(e) => handleChange(e)} className=\"disable-checkbox\" />\r\n                      <span className=\"checkmark\"></span>\r\n                    </label>\r\n                    <div className=\"info-movie\">\r\n                      <p>{movie.titulo}</p>\r\n                      <span>{movie.ano}</span>\r\n                    </div>\r\n                  </li>\r\n                ))\r\n              }\r\n            </ul>\r\n              : <img src={loadingGif} className=\"loading\" alt=\"loading\" />}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}","import React, { useEffect, useState } from 'react';\r\n\r\nimport api from '../../services/api.services';\r\nimport './styles.css';\r\n\r\nimport Top from '../../components/top';\r\n\r\nexport default function Results({history}) {\r\n\r\n    const phase = \"Veja o resultado final do campeonato de filmes de forma simples e rápida\";\r\n\r\n    const [result, setResult] = useState([]);\r\n\r\n    useEffect(() => {\r\n      let moviesSelected = JSON.parse(sessionStorage.getItem('result'));\r\n\r\n      api.post('movies/finish-result', moviesSelected).then(response => {\r\n\r\n      setResult(response.data);\r\n      \r\n      }).catch(_ => {\r\n        alert('Houve um erro ao gerar o campeonato');\r\n        history.push('/')\r\n      })\r\n    }, [history])\r\n\r\n    return (\r\n        <>\r\n            <Top title=\"Resultado Final\" phase={phase} />\r\n            <div className=\"container\">\r\n                <ul className=\"result-list-movies\">\r\n                    {\r\n                        (result || []).map((movie, index) => (\r\n                            <li className=\"result-movies-item\" key={movie.id}>\r\n                                <span>{index + 1}°</span>  {movie.titulo}\r\n                            </li>\r\n                        ))\r\n                    }\r\n                </ul>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react';\r\nimport { Switch, Route, BrowserRouter } from 'react-router-dom';\r\n\r\nimport Movies from './pages/Movies';\r\nimport Results from './pages/Results';\r\n\r\nconst Routes = () => (\r\n    <BrowserRouter>\r\n        <Switch>\r\n            <Route exact path=\"/\" component={Movies} />\r\n            <Route exact path=\"/resultado\" component={Results} />\r\n        </Switch>\r\n    </BrowserRouter>\r\n)\r\n\r\nexport default Routes;","import React from 'react';\r\n\r\nimport './styles/global.css';\r\n\r\nimport Routes from './routes';\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <Routes />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}